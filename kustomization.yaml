apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization
secretGenerator:
- name: grafana-credentials
  namespace: grafana
  envs:
  - ./secrets/grafana.env
- name: grafana-notifiers
  namespace: grafana
  files:
  - ./secrets/.notifiers-secret.yaml
- name: wioc02
  namespace: wioc02
  files:
  - ./secrets/wioC02.env
- name: wiotemphu
  namespace: wiotemp1
  files:
  - ./secrets/wiotemp1.env
- name: external-dns
  namespace: externaldns
  files:
  - ./secrets/aws.credentials
generatorOptions:
  disableNameSuffixHash: true
patches:
- patch: |-
    apiVersion: v1
    kind: Secret
    metadata:
      name: grafana-notifiers
      namespace: grafana
      labels:
        "grafana_notifiers": "true"
